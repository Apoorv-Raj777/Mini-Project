/* heatmap.css
   Matches your Help Others design: left control column + right map column
   Glass look using existing components.css tokens and classes.
*/

.page-wrap {
  max-width: 1200px;
  margin: 28px auto;
  padding: 0 18px;
  display: grid;
  grid-template-columns: 30% 70%;
  gap: 20px;
  align-items: start;
}

/* left panel uses same .card look as Help Others */
.left-panel {
  padding: 18px;
}

/* map panel uses card but we reduce internal padding so map touches edges */
.map-panel {
  padding: 0;
  position: relative;
  overflow: hidden;
}

/* ensure card radius matches components */
.card { background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.06); padding:18px; border-radius:12px; }

/* map area inside the card */
#map {
  width: 100%;
  height: 560px;
  min-height: 420px;
  border-radius: 10px;
}

/* slightly smaller on small screens */
@media (max-width: 900px) {
  .page-wrap { grid-template-columns: 1fr; padding: 0 14px; }
  #map { height: 320px; min-height: 280px; }
}

/* map-score overlay (glass) */
.map-score {
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 2200;
  padding: 10px 12px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 8px 30px rgba(2,6,23,0.45);
  min-width: 140px;
}

/* score visual */
.score-label { font-size: 0.85rem; color:var(--muted); margin-bottom:4px; }
.score-value { font-size: 1.4rem; font-weight:800; color:var(--primary); line-height:1; }
.samples { color:var(--muted); font-size:0.9rem }

/* map legend */
.map-legend {
  position: absolute;
  bottom: 14px;
  right: 14px;
  z-index: 2100;
  padding: 8px 10px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
  color: var(--muted);
  font-size: 0.88rem;
  box-shadow: 0 6px 20px rgba(2,6,23,0.45);
}

/* use existing dot classes for legend colours */
.dot { display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; vertical-align:middle; }
.low { background: var(--success); }
.med { background: #ffbf00; }
.high { background: var(--danger); }

/* Ensure leaflet popups match glass style */
.leaflet-popup-content-wrapper {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  color: var(--text);
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.04);
}

/* control elements use existing field styles */
.field { margin-bottom:12px; display:flex; gap:12px; align-items:center; }
.field label { min-width:120px; color:var(--muted); font-weight:600; }
.field select, .field input[type="text"], .field input[type="range"] {
  flex:1; padding:10px 12px; border-radius:10px; border:none; background:rgba(255,255,255,0.03); color:var(--text);
}

/* small tweaks to match help_others */
.hint { color:var(--muted); font-size:0.95rem; margin-top:8px; }
.controls { display:flex; gap:8px; margin-top:14px; justify-content:flex-end; }

/* small responsive spacing for map overlay elements */
@media (max-width: 480px) {
  .map-score { left: 8px; top: 8px; padding:8px; min-width:120px; }
  .map-legend { right: 8px; bottom: 8px; padding:6px 8px; }
}
